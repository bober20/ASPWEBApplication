@page "/counter/{currentCount:int?}"
@using System.ComponentModel.DataAnnotations
@using Models
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

<EditForm Model="@_newCounterModel" OnValidSubmit="@SetNewCountValue">
    <DataAnnotationsValidator/>
    <ValidationSummary/>

    <div>
        <label for="count">New:</label>
        <InputNumber id="count" @bind-Value="_newCounterModel.Count" class="form-control"/>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>

@code {
    private NewCounterModel _newCounterModel = new NewCounterModel();

    [Parameter] public int currentCount { get; set; }

    private void IncrementCount()
    {
        currentCount++;
    }

    private void SetNewCountValue()
    {
        currentCount = _newCounterModel.Count;
    }

}